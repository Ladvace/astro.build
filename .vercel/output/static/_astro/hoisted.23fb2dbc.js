import{d as f,f as l}from"./solid.ace06e4d.js";import{a as m}from"./dom.54c34b5f.js";function v({button:t,content:e,animated:r=!1,closeAt:d=-1}){e.id&&t.setAttribute("aria-controls",e.id),d>0&&window.matchMedia(`(min-width: ${d}px)`).addEventListener("change",u=>{u.matches&&n(!1)});const[i,n]=f(!1);l(()=>{t.setAttribute("aria-expanded",String(i())),i()&&e.style.removeProperty("display"),!i()&&!r&&(e.style.display="none"),i()&&document.documentElement.classList.add("disclosure-open"),requestAnimationFrame(()=>{i()?e.dataset.open="true":delete e.dataset.open})}),e.addEventListener("transitionstart",()=>{}),r&&e.addEventListener("transitionend",()=>{i()||(e.style.display="none",document.documentElement.classList.remove("disclosure-open"))}),t.addEventListener("click",()=>{n(!i())}),e.addEventListener("keydown",s=>{s.key==="Escape"&&(n(!1),t.focus())});const o=s=>{e.contains(s.target)||s.target!==t&&s.stopPropagation()},c=s=>{i()&&!e.contains(s.target)&&!t.contains(s.target)&&(n(!1),t.focus())};l(()=>{i()?(window.addEventListener("click",c),window.addEventListener("focusin",o)):(window.removeEventListener("click",c),window.removeEventListener("focusin",o))})}v({button:document.querySelector("#astro-header-drawer-button"),content:document.querySelector("#astro-header-drawer"),animated:!0,closeAt:1024});m("[data-home-link]",HTMLAnchorElement).addEventListener("contextmenu",t=>{t.preventDefault(),window.location.href="/press#assets"});const h=document.querySelector('link[rel="icon"]');document.addEventListener("visibilitychange",()=>{const t=document.hidden;h.setAttribute("href",`/favicon${t?"-hidden":""}.svg`)});const a=document.querySelector("#resources-menu");a.addEventListener("focusout",()=>{a.matches(":focus-within")||setTimeout(()=>{a.open=!1},200)});
